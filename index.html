<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
@import url('https://fonts.googleapis.com/css2?family=Edu+TAS+Beginner&display=swap');
body {
  display: static;  
  text-align: center;
  height: 100vh;
  margin: 0;
  background-image: url('https://www.transparenttextures.com/patterns/diagonal-striped-brick.png');
  background-color: var(--bg-color);
  background-blend-mode: lighten;
  color: var(--text-color);
  font-family: 'Edu TAS Beginner', cursive;
  padding: 20px; /* Add padding to the body */
}

	
.topscreen {
	top: 1px;
	position: relative;
	text-align: center;
	font-size: 5rem;
	margin-bottom: 30px;
	opacity: 0.9;
}

.breakdance-image-object{
	position: static;
	object-fit: 100%;
	height: 12%;
	width: 20%;
	opacity: 0.9;
	margin-bottom: 0;
	}

.fontrow{
	display:flex;
	flex-direction:row;
	margin: 30px;
	}
	
.callscript{
	width: 100%;
	height: 70%;
	}
	
#mySelect {
	display: flex;
	justify-content: center;
	align-items: center;
	width: 70%;
	height:100%;
}

.select-container button {
	display:static;
}

.input-container {
  display: flex;
  justify-content: space-between;
  width: 60%;
  margin: 10px 10px;
}

select, input, button {
  padding: 10px;
  font-size: 1em;
  border-radius: 5px;
  margin: 10px 10px;
}


/* Default to light mode */
:root {
    --bg-color: "light blue";
    --text-color: rgb(2,3,129);
}

/* Dark mode */
[data-theme="dark"] {
    --bg-color: black;
    --text-color: #ff5a00;;
}

#darkModeToggle {
  position: fixed;
  top: 15px;
  right: 15px;
  font-size: 18px;
  border-radius: 50%;
}

#increaseFont {
	margin: 10px 10px;
	}
	
#decreaseFont {
	margin: 10px 10px;
	}
	
#itemInput {
	width: 70%
	}
	
button {
    background-color: rgba(255,105,0,1);
	transition-duration: 0.4s;
	cursor: pointer;
	height: 40px;
	text-align: center;
	}
	
button:hover {
    background-color: rgb(2,3,129);
	color: white;
}

#reminder-list {
	position: static;
    list-style-type: none;
    padding: 0;
        }
		
.reminder-item {
    margin: 10px 0;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    }
	
.remind {
	display:flex;
	flex-direction:row;
	margin: 30px 10px;
	}

.saveAs {
	display:flex;
	flex-direction:row;
	margin: 10px;
	}
	
#input {
	width:50%;
	}
	
</style>
</head>
<body>
<button id="darkModeToggle">Dark</button> <!-- Moved to top left corner -->
<img class="breakdance-image-object" src="https://nimblegroup.co.za/wp-content/uploads/2023/08/logo-nimble-group-white.png" width="600" height="200" alt="Nimble Group" srcset="https://nimblegroup.co.za/wp-content/uploads/2023/08/logo-nimble-group-white.png 600w, https://nimblegroup.co.za/wp-content/uploads/2023/08/logo-nimble-group-white-300x114.png 300w" sizes="(max-width: 600px) 100vw, 600px">
<h1 class="topscreen">Normans Friend</h1>
<div class="fontrow">
<button id="increaseFont">+</button> <!-- Placed next to each other -->
<button id="decreaseFont">-</button>
<button id="resetSelect">Reset</button>
</div>
<div class="callscript">
<select id="mySelect" multiple>
	<option value="1">ðŸ‘‰ Good day [ Client's name ] My name is [ Your name ]</option>
	<option value="2">I am a Resolution Consultant from the Nimble Group</option>
	<option value="3">Your [ company_name ] account has been allocated to me today</option>
	<option value="4">{ This call is recorded for your own protection }</option>	
	<option value="5">Now unfortunately your __account still has an outstanding balance</option>
	<option value="6">Of course you want you to be debt_free and clear your name from the credit_bureau ...ASAP</option>
	<option value="7">ðŸ‘‰ [ use Norman PI ] [ !get date of birth, !Balance ]</option>
	<option value="8">So, just to understand your situation better & help you find a solution to this</option>
	<option value="9">What is making it difficult for you to settle [ arrangements, payments ]?</option>
	<option value="10">I really need you to stay on the line with me</option>
	<option value="11">Benefits(Improve credit_score [ monthly_payments ]</option>
	<option value="12">Consequences( negatively affect credit_score, could stand in the way of getting employed )</option>
	<option value="13">There is a Limited Special Settlement Offer: Save moneyðŸ’µðŸ’° and clear your name!!!</option>
	<option value="14">Go for the debit order, Get the salary date</option>
	<option value="15">Which bank are you using now? {{ check if interest free applies. }}</option>
	<option value="16">Can you check the debi_check to make sure everything is as we agreed upon?</option>
	<option value="17">You are welcome to make an extra payment today or tomorrow to help bring your balance down</option>
	<option value="18">Benefits of the Nimble pay app {{ cost-effective and convenient }}</option>
	<option value="19">Update personal details {{ Phone, Email, Address }}</option>
	<option value="20">Are you happy with the arrangement? {{ confirm the arrangement.. }}</option>
	<option value="21">Update history-notes on system</option>
	<option value="22">Any questions from your side?</option>
</select>
<div>
<div class="input-container">
<input type="text" id="itemInput" placeholder="Enter item text">
<button id="addItem">+ Item</button>
<button id="deleteItem">- Item</button>
</div>
<form class="saveAs">
  <label for="input">Enter text:</label>
  <input type="text" id="input" name="input"><br><br>
  <button onclick="saveTextAsFile()">Save</button>
</form>
<div class="remind">
<h1>Reminder</h1>
   <form id="reminder-form">
    <input type="text" name="reminder-text" placeholder="Reminder Text">
    <input type="number" name="reminder-delay" placeholder="Delay (in minutes)" step="any">
    <button type="submit">Add Reminder</button>
</form>
<div>
<button id="remove-button">Remove</button>
<ul id="reminder-list"></ul>
<script>
var select = document.getElementById("mySelect");

function updateOptions() {
    Array.from(select.options).forEach(function(option) {
        option.onmousedown = function(event) {
            event.preventDefault();
            var scroll_offset = select.scrollTop;
            this.selected = !this.selected;
            select.scrollTop = scroll_offset;

            var allSelected = Array.from(select.options).every(function(option) {
                return option.selected;
            });

            if (allSelected) {
                alert("You have selected all the items");
                Array.from(select.options).forEach(function(option) {
                    option.selected = false;
                });
            }
        };

        option.onmousemove = function(event) {
            event.preventDefault();
        };
    });
}

updateOptions();

document.getElementById("darkModeToggle").addEventListener("click", function() {
    var currentTheme = document.documentElement.getAttribute("data-theme");

    if (currentTheme === "dark") {
        document.documentElement.setAttribute("data-theme", "light");
        this.textContent = "Dark";
    } else {
        document.documentElement.setAttribute("data-theme", "dark");
        this.textContent = "Light";
    }
});

document.getElementById("increaseFont").addEventListener("click", function() {
    select.style.fontSize = (parseFloat(getComputedStyle(select).fontSize) + 1) + "px";
});

document.getElementById("decreaseFont").addEventListener("click", function() {
    select.style.fontSize = (parseFloat(getComputedStyle(select).fontSize) - 1) + "px";
});

document.getElementById("addItem").addEventListener("click", function() {
    var itemInput = document.getElementById("itemInput");
    if (itemInput.value.trim() !== "") {
        var newItem = document.createElement("option");
        newItem.text = itemInput.value;
        select.add(newItem);
        itemInput.value = "";
        updateOptions();
    }
});

document.getElementById("deleteItem").addEventListener("click", function() {
    Array.from(select.options).forEach(function(option) {
        if (option.selected) {
            select.remove(option.index);
        }
    });
});

document.getElementById("resetSelect").addEventListener("click", function() {
    Array.from(select.options).forEach(function(option) {
        option.selected = false;
    });
});
function saveTextAsFile() {
  var textToSave = document.getElementById("input").value;
  var words = textToSave.split(' ');

  if(words.length < 10) {
    alert('Please enter at least 10 words.');
    return;
  }

  var textToSaveAsBlob = new Blob([textToSave], {type:"text/plain"});
  var textToSaveAsURL = window.URL.createObjectURL(textToSaveAsBlob);
  var fileNameToSaveAs = "input.txt";
 
  var downloadLink = document.createElement("a");
  downloadLink.download = fileNameToSaveAs;
  downloadLink.innerHTML = "Download File";
  downloadLink.href = textToSaveAsURL;
  downloadLink.onclick = destroyClickedElement;
  downloadLink.style.display = "none";
  document.body.appendChild(downloadLink);
 
  downloadLink.click();
}
 
function destroyClickedElement(event) {
  document.body.removeChild(event.target);
}

const reminders = {}; 

function addReminder(reminderText, delayInMinutes) {
    const delayInMilliseconds = delayInMinutes * 60 * 1000;
    const timeoutId = setTimeout(() => {
        const reminderElement = document.getElementById('reminder-' + timeoutId);
        if (reminderElement) {
            reminderElement.classList.add('reminder-item--triggered');
            reminderElement.innerText += ' - Reminder!';
            alert(reminderText); // This line will trigger an alert with the reminder text
        }
    }, delayInMilliseconds);
    reminders[timeoutId] = { reminderText, timeoutId, countdown: delayInMilliseconds / 1000 };
    const reminderElement = document.createElement('li');
    reminderElement.id = 'reminder-' + timeoutId;
    reminderElement.className = 'reminder-item';
    reminderElement.innerText = reminderText + ' - Countdown: ' + reminders[timeoutId].countdown + ' seconds';
    const removeButton = document.createElement('button');
    removeButton.innerText = 'Remove';
    removeButton.addEventListener('click', () => cancelReminder(timeoutId));
    reminderElement.appendChild(removeButton);
    document.getElementById('reminder-list').appendChild(reminderElement);
    const countdownInterval = setInterval(() => {
        reminders[timeoutId].countdown--;
        reminderElement.innerText = reminderText + ' - Countdown: ' + reminders[timeoutId].countdown + ' seconds';
        if (reminders[timeoutId].countdown <= 0) clearInterval(countdownInterval);
    }, 1000);
}

function cancelReminder(timeoutId) {
   clearTimeout(timeoutId);
    const reminderElement = document.getElementById('reminder-' + timeoutId);
    if (reminderElement) {
        reminderElement.parentNode.removeChild(reminderElement);
    }
    delete reminders[timeoutId];
}

document.getElementById('reminder-form').addEventListener('submit', function(event) {
    event.preventDefault();
    const delay = parseFloat(event.target['reminder-delay'].value);
    if (isNaN(delay)) {
        alert('Please enter a valid number for the delay.');
    } else {
        addReminder(event.target['reminder-text'].value, delay);
    }
});

document.getElementById('remove-button').addEventListener('click', function() {
    if (Object.keys(reminders).length > 0) {
        const lastTimeoutId = Object.keys(reminders)[Object.keys(reminders).length - 1];
        cancelReminder(lastTimeoutId);
    }
});
</script>
</body>
</html>
